<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="add-class.css">
    <!-- <link rel="stylesheet" href="test.css"> -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<header>
    <div class="header-dashboard">
    <button onclick="window.location.href='index.html'" class="dashboard">Dashboard</button>
    <button onclick="window.location.href='test.html'" class="contact">Timetable</button>
    <button onclick="window.location.href='add-class.html'" class="logout">Add class</button>
    <button onclick="window.location.href='index.html'" class="logout">Logout</button>
    </div>
    <h1>AI Timetable Generator</h1>
</header>

<div class="container">
    <section>
        <h2> Basic Details</h2>
        <div>
            <div>
                <form id="classForm">
                <label for="ClassField">Enter Number of Classes:</label>
                <input
                    type="number"
                    min="1"
                    max="4"
                    maxlength="4"
                    required
                    id="ClassField"
                    class="ClassField"
                />
                <input type="submit" value="Submit" class="ClassSubmit" />
                </form>
            </div>
    <section>
        <h2>ðŸ”„ Generate Multiple Timetables (Subject Swaps)</h2>
        
        <div style="background: #f0f4ff; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
            <h3>Quick Swap Input:</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">First Subject Index:</label>
                    <input type="number" id="swapIndex1" min="0" max="7" value="0" 
                           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">Second Subject Index:</label>
                    <input type="number" id="swapIndex2" min="0" max="7" value="6" 
                           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                </div>
                <div style="display: flex; align-items: flex-end;">
                    <button onclick="generateWithManualSwap()" 
                            style="width: 100%; background: linear-gradient(135deg, #fa709a, #fee140); color: white; padding: 8px 16px; border: none; border-radius: 4px; cursor: pointer; font-weight: 600;">
                        Generate This Swap
                    </button>
                </div>
            </div>
        </div>
        
        <button onclick="generateTimetablesWithPredefinedSwaps()" 
                style="background: linear-gradient(135deg, #43e97b, #38f9d7); color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 16px;">
            âš¡ Generate 4 Predefined Variants
        </button>
    </section>

            <div>
                <label>Number of Faculties</label>
                <input type="number" id="faculties">
            </div>
            <div>
                <label>Working Days</label>
                <select id="days">
                    <option>Mon-Fri</option>
                    <option>Mon-Sat</option>
                </select>
            </div>
            <div>
                <label>Periods per Day</label>
                <input type="number" id="periods">
            </div>
        </div>
    </section>
    <section>
        <h2> Subjects & Faculties</h2>
        <div id="subjectTableContainer">
            <table id="subjectTable">
                <thead>
                    <tr>
                        <th>Current Subject</th>
                        
                        <th>Current Faculty</th>
                        
                        <th>Current Hours</th>
                        
                        <th>Lectures/Week</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" class="curr_subject"></td>
                        <td><input type="text" class="curr_faculty"></td>
                        <td><input type="number" class="curr_time"></td>
                        <td><input type="number"></td>
                        <td><button>X</button></td>
                    </tr>
                </tbody>
                <thead>
                    <tr>
                        <th>Change to Subject: </th>
                        <th>Change to Faculty: </th>
                        <th>Change to Hours:</th>
                        <th>Lectures/Week</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                                    <tbody>
                    <tr>
                        <td><input type="text" class="to_subject"></td>
                        <td><input type="text" class="to_faculty"></td>
                        <td><input type="number" class="to_time"></td>
                        <td><input type="number"></td>
                        <td><button>X</button></td>
                    </tr>
                    <tr>
                    </tr>
                </tbody>
                
            </table>
            <button class="change-info"> submit </button>
            <button>+ Add Row</button>
        </div>
    </section>
    <section>
        <h2>Generate Timetable</h2>
        
        <select id="class-select">
        <option value="0">Class 1</option>
        <option value="1">Class 2</option>
        <option value="2">Class 3</option>
        <option value="3">Class 4</option>
        </select>
        <button id="generate-timetable-button">Generate Timetable</button>
        <!-- ðŸ§± Template for the WHOLE timetable -->
        <template id="timetable-template">
            <div class="timetable-container">
            <h2 class="class-name"></h2>
            <table class="timetable-table">
                <thead>
                <!-- <tr>
                    <th colspan="7" class="table-header"></th>
                </tr> -->
                <tr class="header">
                    <th>Time</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                </tr>
                </thead>
                <tbody class="timetable-body">
                <!-- rows will be inserted by JS -->
                </tbody>
            </table>
            </div>
        </template>
        <!-- Output container -->
        <div id="all-timetables"></div>
    </section>
    <section id="WorkloadSection" style="display: none;">
        <h2>ðŸ“Š Teacher Workload Distribution</h2>
        <div id="workload-content">
            <div class="chart-wrapper">
                <canvas id="workloadChart"></canvas>
            </div>
            
            <div class="stats-grid" id="statsContainer"></div>
        </div>
    </section>


</div>
<script src="TIMETABLE/timetable.js"></script>
<script src="TIMETABLE/render_timetable.js"></script>
<script src="TIMETABLE/chart-integration.js"></script>
    <!-- <script src="TIMETABLE/time_dashboard.js"></script> -->
</body>

</html>